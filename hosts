#! /usr/bin/env python2

from sys import path
path.append("lib")

import hosts

inv = hosts.Inventory('site/site.conf',
  ipv6_local_network = "fd2f:5119:f2c::/64",
  icvpn_ipv4_network = "10.207.0.196/16",
  icvpn_ipv6_network = "fec0::a:cf:0:c4/96",
)

grp = inv.group("vpnservers", dhcp=True, icvpn=True)
grp.host(1, "vpn01.bremen.freifunk.net", exit="gre", ansible_ssh_port=60023)
grp.host(2, "vpn02.bremen.freifunk.net", exit="openvpn")
grp.host(3, "vpn03.bremen.freifunk.net", exit="gre")
grp.host(4, "vpn04.bremen.freifunk.net", ansible_ssh_port=60023)
grp.host(5, "vpn05.bremen.freifunk.net")
grp.host(6, "vpn06.bremen.freifunk.net", batman_table="default", uplink_interface="eth0")

grp = inv.group("services")
grp.host(10, "ffhb.fireorbit.de")

print inv.json_dump(indent=4)
